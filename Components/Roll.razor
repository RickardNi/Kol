@using Microsoft.JSInterop
@inject IJSRuntime JS

@if (IsOpen)
{
    <div class="roll-overlay @(IsContentHidden ? "content-hidden" : "")">
        <div class="roll-container">
            @if (!IsContentHidden)
            {
                <div class="roll-player top-player @(TopPlayerRoll > BottomPlayerRoll ? "winner" : "")">
                    <span class="roll-number">@TopPlayerRoll</span>
                </div>
                <div class="roll-player bottom-player @(BottomPlayerRoll > TopPlayerRoll ? "winner" : "")">
                    <span class="roll-number">@BottomPlayerRoll</span>
                </div>
            }
            <button class="roll-close-btn @(IsCloseClicked ? "clicked" : "")" @onclick="OnCloseClick" aria-label="Close roll">
                <svg class="close-icon lucide lucide-circle-x-icon lucide-circle-x" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="m15 9-6 6"/>
                    <path d="m9 9 6 6"/>
                </svg>
                <svg class="quick-menu-icon lucide lucide-bolt-icon lucide-bolt" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                    <circle cx="12" cy="12" r="4"/>
                </svg>
            </button>
        </div>
    </div>
}

@code {
    [Parameter] public bool IsOpen { get; set; }
    [Parameter] public EventCallback OnCloseClick { get; set; }
    [Parameter] public int TopPlayerRoll { get; set; }
    [Parameter] public int BottomPlayerRoll { get; set; }
    [Parameter] public bool IsContentHidden { get; set; }
    [Parameter] public bool IsCloseClicked { get; set; }
} 