@using Microsoft.AspNetCore.Components

<div class="advanced-menu-container @(IsOpen ? "open" : "")">
    <div class="popup-grid">
        <div class="popup-quadrant top-left">
            <div class="advanced-control">
                <button class="advanced-btn" aria-label="Poison counter">
                    <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-skull-icon lucide-skull">
                        <path d="m12.5 17-.5-1-.5 1h1z"/>
                        <path d="M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z"/>
                        <circle cx="15" cy="12" r="1"/>
                        <circle cx="9" cy="12" r="1"/>
                    </svg>
                </button>
                <span class="advanced-label">Poison</span>
            </div>
        </div>
        <div class="popup-quadrant top-right">
            <div class="advanced-control">
                <button class="advanced-btn" aria-label="D4 die">
                    <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pyramid-icon lucide-pyramid">
                        <path d="M2.5 16.88a1 1 0 0 1-.32-1.43l9-13.02a1 1 0 0 1 1.64 0l9 13.01a1 1 0 0 1-.32 1.44l-8.51 4.86a2 2 0 0 1-1.98 0Z"/>
                        <path d="M12 2v20"/>
                    </svg>
                </button>
                <span class="advanced-label">D4</span>
            </div>
        </div>
        <div class="popup-quadrant bottom-left">
            <div class="advanced-control">
                <button class="advanced-btn" aria-label="Advanced feature 3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dices-icon lucide-dices">
                        <rect width="12" height="12" x="2" y="10" rx="2" ry="2"/>
                        <path d="m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6"/>
                        <path d="M6 18h.01"/>
                        <path d="M10 14h.01"/>
                        <path d="M15 6h.01"/>
                        <path d="M18 9h.01"/>
                    </svg>
                </button>
                <span class="advanced-label">Dice Roll</span>
            </div>
        </div>
        <div class="popup-quadrant bottom-right">
            <div class="advanced-control">
                <button class="advanced-btn" aria-label="Advanced feature 4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings-icon lucide-settings">
                        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
                        <circle cx="12" cy="12" r="3"/>
                    </svg>
                </button>
                <span class="advanced-label">Settings</span>
            </div>
        </div>
    </div>

    <button class="advanced-close-btn" @onclick="CloseAdvanced" aria-label="Close advanced menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-x-icon lucide-circle-x">
            <circle cx="12" cy="12" r="10"/>
            <path d="m15 9-6 6"/>
            <path d="m9 9 6 6"/>
        </svg>
    </button>
</div>

@code {
    [Parameter] public bool IsOpen { get; set; }
    [Parameter] public EventCallback<bool> IsOpenChanged { get; set; }

    private async Task CloseAdvanced()
    {
        IsOpen = false;
        await IsOpenChanged.InvokeAsync(false);
    }
} 